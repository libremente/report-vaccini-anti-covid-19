(this["webpackJsonpcovid19-dashboard-vaccini"]=this["webpackJsonpcovid19-dashboard-vaccini"]||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),i=a.n(c),r=a(46),s=a.n(r),o=(a(95),a(50)),l=a(6),d=a(2),j=(a(16),a(41),a(42),a(43),a(44),function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"row m-0",style:{backgroundColor:"#0059b3"},children:[Object(n.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pt-2 pb-2",children:[Object(n.jsx)("a",{href:"http://www.governo.it",target:"_blank",rel:"noreferrer",children:Object(n.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"})}),Object(n.jsx)("p",{className:"pt-sm-0",children:"Presidenza del Consiglio dei Ministri"})]}),Object(n.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pr-sm-0 pt-2 pb-2",children:[Object(n.jsx)("a",{href:"http://www.governo.it",target:"_blank",rel:"noreferrer",children:Object(n.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"})}),Object(n.jsx)("p",{className:"pt-sm-0",children:"Commissario Straordinario Covid-19"})]}),Object(n.jsxs)("div",{className:"col-12 col-md-4 d-flex justify-content-md-center justify-content-sm-start logo-section pt-2 pb-2 pr-sm-3",children:[Object(n.jsx)("a",{href:"http://www.governo.it",target:"_blank",rel:"noreferrer",children:Object(n.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo pl-5 pr-2"})}),Object(n.jsx)("p",{className:"pt-sm-0",children:"Ministero della Salute"})]}),Object(n.jsx)("div",{className:"col-12 d-flex flex-column justify-content-center mainBanner",children:Object(n.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(n.jsx)("img",{src:"logo.png",alt:"Logo",className:"main-logo"}),Object(n.jsx)("span",{className:"pl-3",children:"Report Vaccini Anti COVID-19"})]})})]})})}),u=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"footer-wrapper p-4 clearfix",children:Object(n.jsx)("footer",{className:"footer_container container",id:"footer",children:Object(n.jsxs)("div",{className:"row title_row",children:[Object(n.jsxs)("div",{className:"col-md-4 d-flex justify-content-center logo-section pt-1 pb-2",children:[Object(n.jsx)("div",{children:Object(n.jsx)("div",{children:Object(n.jsx)("a",{href:"http://www.governo.it",target:"_blank",rel:"noreferrer",children:Object(n.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo ml-5 mr-2"})})})}),Object(n.jsx)("div",{children:Object(n.jsx)("p",{children:"Presidenza del Consiglio dei Ministri"})})]}),Object(n.jsxs)("div",{className:"col-md-4 d-flex justify-content-center logo-section pt-1 pb-2",children:[Object(n.jsx)("div",{children:Object(n.jsx)("div",{children:Object(n.jsx)("a",{href:"http://www.governo.it",target:"_blank",rel:"noreferrer",children:Object(n.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo ml-5 mr-2"})})})}),Object(n.jsx)("div",{children:Object(n.jsx)("p",{children:"Commissario Straordinario Covid-19"})})]}),Object(n.jsxs)("div",{className:"col-md-4 d-flex justify-content-center logo-section pt-1 pb-2",children:[Object(n.jsx)("div",{children:Object(n.jsx)("div",{children:Object(n.jsx)("a",{href:"http://www.governo.it",target:"_blank",rel:"noreferrer",children:Object(n.jsx)("img",{src:"logo.svg",height:"4px",alt:"Logo",className:"logo ml-5 mr-2"})})})}),Object(n.jsx)("div",{children:Object(n.jsx)("p",{children:"Ministero della Salute"})})]})]})})})})},m=a(4),h=a.n(m),p=a(9),b=a(3),g=a(13),x=(a(8),a(10)),f=a.n(x),v=function(e,t){return e+t},O=function(e){return function(t,a){return t+ +(null===a||void 0===a?void 0:a[e])}},y=function(e){return function(t,a){return(null===a||void 0===a?void 0:a[e])>t?null===a||void 0===a?void 0:a[e]:t}},N=["16-19","20-29","30-39","40-49","50-59","60-69","70-79","80-89","90+"],w=function(e){var t;return Array.isArray(e)&&e.length>0&&(t=N.map((function(t){var a=x.sum(e.filter((function(e){return e.fascia_anagrafica.trim()===t})).map((function(e){return e.sesso_maschile}))),n=x.sum(e.filter((function(e){return e.fascia_anagrafica.trim()===t})).map((function(e){return e.sesso_femminile})));return{fascia_anagrafica:t,sesso_femminile:n,sesso_maschile:a,totale:a+n}}))),t},S=function(e,t){return e.map((function(e){return e[t]}))},C=function(e){return e.reduce(v)},_=function(e){return function(t,a){var n=a[e];return t[n]||(t[n]=[]),t[n].push(a),t}},k=function(e){return function(t){return function(a){return a[e]===t}}},L=k("area"),z=L("ITA"),F=(k("TML_FASCIA_ETA"),function(e){return Object(l.a)(Object(l.a)({},e),{},{area:R[e.area],code:e.area})}),R={ABR:"Abruzzo",BAS:"Basilicata",CAL:"Calabria",CAM:"Campania",EMR:"Emilia-Romagna",FVG:"Friuli Venezia Giulia",LAZ:"Lazio",LIG:"Liguria",LOM:"Lombardia",MAR:"Marche",MOL:"Molise",PAB:"P.A. Bolzano",PAT:"P.A. Trento",PIE:"Piemonte",PUG:"Puglia",SAR:"Sardegna",SIC:"Sicilia",TOS:"Toscana",UMB:"Umbria",VDA:"Valle d'Aosta",VEN:"Veneto"},A=function(e){var t={};for(var a in e)t[e[a]]=a;return t}(R),D=(a(24),function(e){var t=Object(c.useState)([]),a=Object(d.a)(t,2),i=a[0],r=a[1],s=Object(c.useState)(null),o=Object(d.a)(s,2),l=o[0],j=o[1],u=b.c().center([0,41]).rotate([347,0]).parallels([35,45]).scale(2200).translate([249,239]);return Object(c.useEffect)((function(){(function(){var e=Object(p.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("data/geo/it.json");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,r(g.a(a,a.objects.regions).features);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.jsx)("div",{className:"map-area mt-sx-3",children:Object(n.jsx)("svg",{className:"h-100 w-100",height:478,children:Object(n.jsxs)("g",{className:"countries",children:[i.map((function(t,a){var c,i,r=e.summaryFilter||e.summary.deliverySummary,s=null===r||void 0===r?void 0:r.filter(L(t.properties.reg_name)),o={};s&&s.length>0&&(o=s[0]);var d=e&&e.summaryFilter?1/80*o.percentuale_somministrazione:(null===e||void 0===e?void 0:e.selected)===o?1:(null===e||void 0===e?void 0:e.selected)?.01*o.percentuale_somministrazione:1/80*o.percentuale_somministrazione;return Object(n.jsx)("path",{d:b.d().projection(u)(t),className:"country",id:"".concat(null===(c=o)||void 0===c||null===(i=c.area)||void 0===i?void 0:i.trim()),fill:"rgba(0,102,204,".concat(d,") "),stroke:"#FFFFFF",strokeWidth:.7,onClick:function(){return t=o.index,void(l===t?(e.handleCountryClick(null),j(null)):(e.handleCountryClick(t),j(t)));var t},children:Object(n.jsx)("title",{children:Object(n.jsxs)("span",{className:"bg-info",children:[o.area," ",o.percentuale_somministrazione,"%"]})})},"path-".concat(a))})),");"]})})})}),V=function(e){var t=e.handleCountryClick,a=e.selectedCodeCategory,i=e.maxByCategory,r=e.summary,s=e.selected,o=e.categoryRegionSelect,l=e.setCategoryRegionSelect,j=Object(c.useState)([]),u=Object(d.a)(j,2),m=u[0],x=u[1],f=b.c().center([0,41]).rotate([347,0]).parallels([35,45]).scale(2200).translate([249,239]);Object(c.useEffect)((function(){(function(){var e=Object(p.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("data/geo/it.json");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,x(g.a(a,a.objects.regions).features);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var v=function(e){return a?e.byCategory[a].length&&e.byCategory[a][0].total&&e.byCategory[a][0].total.toLocaleString("it"):e.dosi_somministrate&&e.dosi_somministrate.toLocaleString("it")},O=function(e){var t=a?e.byCategory[a].length&&e.byCategory[a][0].total:e.dosi_somministrate;return s===e?1:s?t/i*100/2*.01:t/i*100*.02};return Object(n.jsx)("div",{className:"map-area mt-2",children:Object(n.jsx)("svg",{className:"h-100 w-100",height:478,children:Object(n.jsxs)("g",{className:"countries",children:[m.map((function(e,a){var c,i=null===r||void 0===r||null===(c=r.deliverySummary)||void 0===c?void 0:c.filter(L(e.properties.reg_name)),s={};return i&&i.length>0&&(s=i[0]),Object(n.jsx)("path",{d:b.d().projection(f)(e),className:"country",fill:"rgba(0,102,204, ".concat(O(s),") "),stroke:"#FFFFFF",strokeWidth:.7,onClick:function(){return e=s.index,void(o===e?(t(null),l(null)):(t(e),l(e)));var e},children:Object(n.jsx)("title",{children:Object(n.jsxs)("span",{className:"bg-info",children:[s.area," ",v(s)]})})},"path-".concat(a))})),");"]})})})},E=function(e){var t=Object(c.useState)([]),a=Object(d.a)(t,2),i=a[0],r=a[1],s=b.c().center([0,41]).rotate([347,0]).parallels([35,45]).scale(2200).translate([249,239]);Object(c.useEffect)((function(){(function(){var e=Object(p.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("data/geo/it.json");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,r(g.a(a,a.objects.regions).features);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return Object(n.jsx)("div",{className:"map-area mt-sx-3",children:Object(n.jsx)("svg",{className:"h-100 w-100",height:478,children:Object(n.jsxs)("g",{className:"countries",children:[i.map((function(t,a){var c,i,r,o,l,d=e.summaryFilter||e.summary.locationsByRegion,j=null===d||void 0===d?void 0:d.filter(L(t.properties.reg_name)),u={};return j&&j.length>0&&(u=j[0]),Object(n.jsx)("path",{d:b.d().projection(s)(t),className:"country",id:"".concat(null===(c=u)||void 0===c||null===(i=c.area)||void 0===i?void 0:i.trim()),fill:"rgba(23,50,77,".concat((o=u,l=null===e||void 0===e||null===(r=e.summary)||void 0===r?void 0:r.maxNumberOfLocations,o.area===e.locationRegionSelect?1:e.locationRegionSelect?o.locations/l/2+.1:o.locations/l+.1),") "),stroke:"#FFFFFF",strokeWidth:.7,onClick:function(){return t=u.area,void(e.locationRegionSelect===t?(e.handleCountryClick(null),e.setLocationRegionSelect(null)):(e.handleCountryClick(t),e.setLocationRegionSelect(t)));var t},children:Object(n.jsx)("title",{children:Object(n.jsxs)("span",{className:"bg-info",children:[u.area," ",u.locations]})})},"path-".concat(a))})),");"]})})})},B=function(e){return Object(n.jsx)("div",{className:"d-flex mt-2 p-4 w-100 justify-content-center text-center "+e.classes,children:e.text})},M=a(5),P=a.n(M),I=a(20),T=a.n(I);a(98);P.a.DataTable=T.a;var Y=[{title:"Regione",data:"area"},{title:"Provincia",data:"provincia"},{title:"Comune",data:"comune"},{title:"Punto di somministrazione",data:"presidio_ospedaliero"}],G=function(e){return Object(c.useEffect)((function(){var t,a=e.setLocationTableRef,n=P()("#datatable-locations").find("table").DataTable({dom:"<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'>><'row'<'col-sm-12'tr>><'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",paging:!1,searching:!0,destroy:!0,bLengthChange:!1,info:!1,scrollY:"550px",scrollCollapse:!0,data:(null===(t=e.summary)||void 0===t?void 0:t.locations)||[],columns:Y});(null===e||void 0===e?void 0:e.selected)?n.search(e.selected).draw():n.search(" ").draw(),a(n.rows({search:"applied"}).count()/2)})),Object(n.jsx)("div",{id:"datatable-locations",children:Object(n.jsx)("table",{className:"display compact",cellSpacing:"0",width:"100%"})})};a(99);M.DataTable=T.a;var U=[{title:"Regioni",data:"area"},{title:"Vaccinazione",data:"dosi_somministrate"},{title:"Consegne",data:"dosi_consegnate"},{title:"%",data:"percentuale_somministrazione"}],W=function(e){return Object(c.useEffect)((function(){M("#datatable").find("tfoot"),M("#datatable").find("table").append("<tfoot><th></th><th></th><th></th><th></th></tfoot>")}),[]),Object(c.useEffect)((function(){var t,a,n=M("#datatable").find("table").DataTable({dom:"<'row'<'col-12'l>><'row'<'col-12'tr>>",paging:!1,searching:!0,destroy:!0,data:e.summaryFilter||(null===(t=e.summary)||void 0===t?void 0:t.deliverySummary)||[],columns:U,columnDefs:[{targets:0,width:"150px"},{targets:[1,2,3],render:function(e,t,a){return Number(e).toLocaleString("it")}}],footerCallback:function(e,t,a,n,c){var i=M("#datatable").find("table").DataTable(),r=function(e){return"string"===typeof e?1*e.replace(/[$,]/g,""):"number"===typeof e?e:0},s=i.column(3,{search:"applied"}).data().reduce((function(e,t,a,n){var c=n.length;return r(e)+r(t)/c}),0),o=i.column(2,{search:"applied"}).data().reduce((function(e,t){return r(e)+r(t)}),0),l=i.column(1,{search:"applied"}).data().reduce((function(e,t){return r(e)+r(t)}),0);M(i.column(3).footer()).html(s.toFixed(1)+"%"),M(i.column(2).footer()).html(o.toLocaleString("it")),M(i.column(1).footer()).html(l.toLocaleString("it")),M(i.column(0).footer()).html("Totale")}});(null===e||void 0===e||null===(a=e.selected)||void 0===a?void 0:a.area)?n.search(e.selected.area).draw():n.search(" ").draw()})),Object(n.jsx)("div",{id:"datatable",children:Object(n.jsx)("table",{className:"table h-100 table-borderless compact table-hover",cellSpacing:"0",width:"100%",style:{paddingBottom:6}})})},H=a(49),J=a.n(H),Z=function(e){var t;return Object(n.jsxs)("div",{className:"h-100 w-100 mt-2 mb-3 max-width-total",children:[Object(n.jsx)("div",{className:"timestamp mx-auto",children:Object(n.jsxs)("h6",{className:"text-center pb-4",children:["Dati aggiornati al:"," ",e.summary.timestamp&&J()(e.summary.timestamp).format("DD-MM-YYYY HH:mm")]})}),Object(n.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[Object(n.jsxs)("div",{className:"d-flex justify-content-center align-items-baseline",children:[Object(n.jsx)("img",{src:"meds.png",alt:"meds",className:"pl-4 pr-5"})," ",Object(n.jsx)("h1",{className:"pl-5 mt-4 font-weight-light",children:null===(t=e.summary.tot)||void 0===t?void 0:t.toLocaleString("it")})]}),Object(n.jsx)("span",{className:"border-top mb-2"}),Object(n.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(n.jsx)("img",{src:"logo.png",alt:"fiore",height:"30"}),Object(n.jsx)("img",{src:"logo.png",alt:"fiore",height:"30"}),Object(n.jsx)("img",{src:"logo.png",alt:"fiore",height:"30",className:"pr-5"})," ",Object(n.jsx)("h6",{className:"pl-5",children:"Totale vaccinazioni"})]})]})]})},$="https://raw.githubusercontent.com/italia/covid19-opendata-vaccini/master/dati",q="".concat($,"/somministrazioni-vaccini-summary-latest.json"),K="".concat($,"/somministrazioni-vaccini-latest.json"),Q="".concat($,"/consegne-vaccini-latest.json"),X="".concat($,"/vaccini-summary-latest.json"),ee="".concat($,"/punti-somministrazione-latest.json"),te="".concat($,"/anagrafica-vaccini-summary-latest.json"),ae="".concat($,"/punti-somministrazione-latest.json"),ne="".concat($,"/last-update-dataset.json"),ce=function(e){var t=e.dataSommVaxSummary.data.filter(z).reduce(O("totale"),0),a=e.dataSommVaxDetail.data.map(F),n=e.dataVaxSummary.data.map(F),c=e.dataProfileSummary.data,i=[{name:"Operatori Sanitari e Sociosanitari",code:"cat_oss",total:c.reduce(O("categoria_operatori_sanitari_sociosanitari"),0)},{name:"Ospiti Strutture Residenziali",code:"cat_rsa",total:c.reduce(O("categoria_ospiti_rsa"),0)},{name:"Personale non sanitario",code:"cat_pns",total:c.reduce(O("categoria_personale_non_sanitario"),0)}],r=e.dataSommVaxSummary.data.reduce(_("area"),{}),s={};Object.keys(r).map((function(e){return s[e]=[{name:"Operatori Sanitari e Sociosanitari",code:"cat_oss",total:r[e].reduce(O("categoria_operatori_sanitari_sociosanitari"),0)},{name:"Ospiti Strutture Residenziali",code:"cat_rsa",total:r[e].reduce(O("categoria_ospiti_rsa"),0)},{name:"Personale non sanitario",code:"cat_pns",total:r[e].reduce(O("categoria_personale_non_sanitario"),0)}],s})),n.forEach((function(e){e.byCategory=s[e.code].reduce(_("code"),{})}));var o=e.dataVaxLocations.data.map(F),l=0,d=f()(e.dataVaxLocations.data.map(F)).groupBy("area").map((function(e,t){return l=l>e.length?l:e.length,{area:t,locations:e.length}})).value(),j={gen_m:c.reduce(O("sesso_maschile"),0),gen_f:c.reduce(O("sesso_femminile"),0)};return{timestamp:e.dataLastUpdate.ultimo_aggiornamento,tot:t,deliverySummary:n,categoriesAndAges:c,categories:i,categoriesByRegions:s,locations:o,gender:j,dataSomeVaxDetail:a,locationsByRegion:d,maxNumberOfLocations:l}},ie=function(){var e=Object(p.a)(h.a.mark((function e(){var t,a,n,c,i,r,s,o,d,j,u,m,p,b,g,x;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(q);case 2:return t=e.sent,e.next=5,fetch(K);case 5:return a=e.sent,e.next=8,fetch(Q);case 8:return n=e.sent,e.next=11,fetch(X);case 11:return c=e.sent,e.next=14,fetch(te);case 14:return i=e.sent,e.next=17,fetch(ae);case 17:return r=e.sent,e.next=20,fetch(ee);case 20:return s=e.sent,e.next=23,fetch(ne);case 23:return o=e.sent,e.next=26,t.json();case 26:return d=e.sent,e.next=29,a.json();case 29:return j=e.sent,e.next=32,n.json();case 32:return u=e.sent,e.next=35,c.json();case 35:return m=e.sent,e.next=38,i.json();case 38:return p=e.sent,e.next=41,r.json();case 41:return b=e.sent,e.next=44,s.json();case 44:return g=e.sent,e.next=47,o.json();case 47:return x=e.sent,e.abrupt("return",Object(l.a)({},ce({dataSommVaxSummary:d,dataSommVaxDetail:j,dataDeliveryVaxDetail:u,dataVaxSummary:m,dataProfileSummary:p,dataPointsSommSummary:b,dataLastUpdate:x,dataVaxLocations:g})));case 49:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(e){var t=+e.width,a=+e.height,i=Object(c.useRef)(),r=Object(c.useRef)(),s=Object(c.useState)(null),o=Object(d.a)(s,2),l=o[0],j=o[1];Object(c.useEffect)((function(){b.g(r.current).selectAll("svg").remove(),m()}));var u=function(e){var t=b.g(e.node().parentNode),a=parseInt(e.style("width"),10),n=parseInt(e.style("height"),10),c=a/n;function i(){var a=parseInt(t.style("width"));e.attr("width",a),e.attr("height",Math.round(a/c))}e.attr("viewBox","0 0 ".concat(a," ").concat(n)).attr("preserveAspectRatio","xMinYMid").call(i),b.g(window).on("resize."+t.attr("id"),i)};var m=function(){var n=(null===e||void 0===e?void 0:e.data)||[],c=(null===n||void 0===n?void 0:n.reduce(y(e.property.yprop),0))||0,i=b.g(r.current).append("svg").attr("width",t).attr("height",a),s=50,o=50,d=b.e().padding(.2),m=b.f().domain([0,c]);m.range([a,0]),d.range([0,t]).domain(n.map((function(t){return t[e.property.xprop]}))),i.attr("width",t+2*o).attr("height",a+2*s).call(u).attr("id","svg-bar"),i.append("text").attr("x",t/2+o).attr("y",s/2).attr("class","title").attr("text-anchor","middle").attr(e.title),i.append("text").attr("x",-a/2-s).attr("y",o/2.4).attr("transform","rotate(-90)").attr("class","title").text(e.ytitle);var h=i.append("g").attr("transform","translate(".concat(o,",").concat(s,")"));h.append("g").attr("class","axis").attr("transform","translate(0,".concat(a,")")).style("font-size",20).call(b.a(d));var p=h.selectAll().data(n);p.enter().append("rect").on("click",(function(t,a){var n;l===(n=a)?(e.handleRectClick(null),j(null)):(e.handleRectClick(n),j(n))})).attr("id",(function(e){return null===e||void 0===e?void 0:e.fascia_anagrafica})).attr("opacity",(function(t){var a;return(null===e||void 0===e||null===(a=e.selected)||void 0===a?void 0:a.fascia_anagrafica)===(null===t||void 0===t?void 0:t.fascia_anagrafica)?1:(null===e||void 0===e?void 0:e.selected)?.3:1})).attr("class","bar").attr("x",(function(t){return d(t[e.property.xprop])})).attr("y",(function(t){return m(t[e.property.yprop])})).attr("height",(function(t){return a-m(t[e.property.yprop])})).attr("width",d.bandwidth()).append("title").attr("x",(function(t){return d(t[e.property.xprop])})).attr("y",(function(t){return m(t[e.property.yprop])})).text((function(t){return"Fascia ".concat(t[e.property.xprop]," totale: ").concat(t[e.property.yprop])})),p.enter().append("text").attr("class","bartext").attr("text-anchor","middle").attr("fill","white").attr("x",(function(t){return d(t[e.property.xprop])+35})).attr("y",(function(t){return a-m(t[e.property.yprop])>=0?m(t[e.property.yprop])-10:m(t[e.property.yprop])})).text((function(t){return t[e.property.yprop].toLocaleString("it")})),p.exit().remove()};return Object(n.jsx)("div",{ref:r,className:"chart svg-container",children:Object(n.jsx)("svg",{ref:i,className:"svg-content-responsive"})})},se=function(e){var t=+e.width,a=+e.height,i=Object(c.useRef)(),r=Object(c.useRef)(),s=Object(c.useState)(null),o=Object(d.a)(s,2),l=o[0],j=o[1];Object(c.useEffect)((function(){b.g(r.current).selectAll("svg").remove(),m()}));var u=function(e){var t=b.g(e.node().parentNode),a=parseInt(e.style("width"),10),n=parseInt(e.style("height"),10),c=a/n;function i(){var a=parseInt(t.style("width"));e.attr("width",a),e.attr("height",Math.round(a/c))}e.attr("viewBox","0 0 ".concat(a," ").concat(n)).attr("preserveAspectRatio","xMinYMid").call(i),b.g(window).on("resize."+t.attr("id"),i)};var m=function(){var n=(null===e||void 0===e?void 0:e.data)||[],c=(null===n||void 0===n?void 0:n.reduce(y(e.property.yprop),0))||0,i=b.g(r.current).append("svg").attr("width",t).attr("height",a),s=50,o=170,d=b.f().domain([0,c]).range([0,t-20]),m=b.e().padding(.4).range([0,a]).domain(n.map((function(t){return t[e.property.xprop]})));i.attr("width",t+2*o).attr("height",a+2*s).call(u).attr("id","svg-horizontal-bar"),i.append("text").attr("x",t/2+o).attr("y",s/2).attr("class","hb-title").attr("text-anchor","middle").attr(e.title);var h=i.append("g").attr("transform","translate(".concat(o,",").concat(s,")"));h.append("g").attr("class","hb-axis").call(b.b(m)).style("font-size","18px").attr("transform","translate(85,0)");var p=h.selectAll().data(n);p.enter().append("rect").on("click",(function(t,a){var n;l===(n=a)?(e.handleRectClick(null),j(null)):(e.handleRectClick(n),j(n))})).attr("opacity",(function(t){return(null===e||void 0===e?void 0:e.selectedCodeCategory)===t.code?1:(null===e||void 0===e?void 0:e.selectedCodeCategory)?.3:1})).attr("class","hb-bar").attr("x",d(0)+95).attr("y",(function(t){return m(t[e.property.xprop])})).attr("width",(function(t){return d(t[e.property.yprop])})).attr("height",m.bandwidth()).append("hb-title").attr("x",(function(t){return d(t[e.property.xprop])})).attr("y",(function(t){return m(t[e.property.yprop])})).text((function(t){return"Fascia ".concat(t[e.property.xprop]," totale: ").concat(t[e.property.yprop])})),p.enter().append("text").attr("class","hb-bartext").attr("text-anchor","middle").attr("fill","white").attr("x",(function(t){return d(t[e.property.yprop])+135})).attr("y",(function(t){return a-m(t[e.property.xprop])>=0?m(t[e.property.xprop])+30:m(t[e.property.xprop])})).text((function(t){return t[e.property.yprop].toLocaleString("it")})),p.exit().remove()};return Object(n.jsx)("div",{ref:r,className:"chart svg-container",children:Object(n.jsx)("svg",{ref:i,className:"svg-content-responsive"})})};var oe=function(){var e,t,a,i,r=Object(c.useState)({}),s=Object(d.a)(r,2),m=s[0],h=s[1],p=Object(c.useState)(null),b=Object(d.a)(p,2),g=b[0],f=b[1],v=Object(c.useState)({}),O=Object(d.a)(v,2),y=O[0],N=O[1],_=Object(c.useState)([]),k=Object(d.a)(_,2),L=k[0],z=k[1],F=Object(c.useState)(""),R=Object(d.a)(F,2),M=R[0],P=R[1],I=Object(c.useState)(null),T=Object(d.a)(I,2),Y=T[0],U=T[1],H=Object(c.useState)(null),J=Object(d.a)(H,2),$=J[0],q=J[1],K=Object(c.useState)(null),Q=Object(d.a)(K,2),X=Q[0],ee=Q[1],te=Object(c.useState)([]),ae=Object(d.a)(te,2),ne=ae[0],ce=ae[1],oe=Object(c.useState)(null),le=Object(d.a)(oe,2),de=le[0],je=le[1],ue=Object(c.useState)(null),me=Object(d.a)(ue,2),he=me[0],pe=me[1],be=Object(c.useState)(null),ge=Object(d.a)(be,2),xe=ge[0],fe=ge[1],ve=Object(c.useState)(0),Oe=Object(d.a)(ve,2),ye=Oe[0],Ne=Oe[1],we=Object(c.useState)(0),Se=Object(d.a)(we,2),Ce=Se[0],_e=Se[1],ke=Object(c.useState)(0),Le=Object(d.a)(ke,2),ze=Le[0],Fe=Le[1],Re=Object(c.useState)(null),Ae=Object(d.a)(Re,2),De=Ae[0],Ve=Ae[1],Ee=function(e){if(document.getElementById(e)&&e){var t=new MouseEvent("click",{bubbles:!0,cancelable:!0});document.getElementById(e).dispatchEvent(t)}},Be=function(){Ee(null===g||void 0===g?void 0:g.area),Ee(null===X||void 0===X?void 0:X.fascia_anagrafica),f(null),ce(m.categories),pe(null),q(null),fe(null),P(null),Ve(null)};return Object(c.useEffect)((function(){ie().then((function(e){!function(){var e=document.getElementById("loader-custom");e&&(e.className=e.className.includes("d-none")?e.className:e.className+" d-none")}(),h(e),ce(e.categories),z(e.categoriesAndAges),N(e.gender),je(null)}))}),[]),Object(c.useEffect)((function(){var e,t=0,a=0;(he&&pe(null),he)||(null===m||void 0===m||null===(e=m.deliverySummary)||void 0===e||e.forEach((function(e){Object.keys(e.byCategory).forEach((function(n){he?he&&n===he&&(t=t+(e.byCategory[n].length&&e.byCategory[n][0].total)||0,a=(e.byCategory[n].length&&e.byCategory[n][0].total)>a?e.byCategory[n].length&&e.byCategory[n][0].total:a):(t=t+(e.byCategory[n].length&&e.byCategory[n][0].total)||0,a=(e.byCategory[n].length&&e.byCategory[n][0].total)>a?e.byCategory[n].length&&e.byCategory[n][0].total:a)}))})),_e(a),Ne(t))}),[he,m,ye]),Object(n.jsxs)("div",{children:[Object(n.jsx)(j,{}),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 d-flex justify-content-center",children:Object(n.jsx)(Z,{className:"mb-3",summary:Object(l.a)({},m)})})}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-12 col-md-6 font-25",children:Object(n.jsx)(B,{classes:"bg-primary text-white",text:"Il 27 dicembre sono state consegnate 9.750 dosi di vaccino, interamente somministrate."})}),Object(n.jsx)("div",{className:"col-12 col-md-6 font-25",children:Object(n.jsx)(B,{classes:"bg-primary text-white",text:"Dal 30 Dicembre al 1\xb0 Gennaio sono state consegnate 469.950 dosi di vaccino."})}),Object(n.jsx)("div",{className:"col-12",children:Object(n.jsx)("div",{className:"text-center font-22",children:Object(n.jsx)(B,{classes:"text-black text-uppercase font-weight-bold",text:"Le somministrazioni delle 469.950 dosi di vaccino su tutto il territorio sono iniziate il 31 dicembre"})})})]}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 d-flex justify-content-end",children:Object(n.jsx)("img",{alt:"reset",src:"reset.png",onClick:Be})})}),Object(n.jsxs)("div",{className:"row",style:{backgroundColor:"#F8FBFE"},children:[Object(n.jsxs)("div",{className:"col-12 col-lg-5 h-100 order-md-2 order-lg-1 ",children:[Object(n.jsx)("div",{className:"container-info d-none d-sm-none d-md-flex d-lg-flex",children:Object(n.jsx)("span",{"data-toggle":"tooltip",title:"% somministrazioni su dosi consegnate",className:"circle-info",children:"i"})}),Object(n.jsx)(W,{summaryFilter:de,summary:Object(l.a)({},m),selected:g,className:"mr-5 h-100"})]}),Object(n.jsxs)("div",{className:"col-12 col-lg-7 order-md-1 order-lg-2",children:[Object(n.jsx)("div",{className:"p-4 position-relative d-lg-none",children:Object(n.jsxs)("div",{className:"w-100 h-100 d-flex justify-content-start pr-5",children:[Object(n.jsx)("img",{src:"logo.png",width:"35",height:"35",alt:"Logo"}),Object(n.jsxs)("h5",{className:"pl-3 pl-sm-1",children:["Distribuzione vaccinazioni",Object(n.jsx)("br",{})," rispetto alle consegne"]})]})}),Object(n.jsx)("div",{className:"p-4 position-relative d-none d-lg-block",style:{left:"300px",top:"190px"},children:Object(n.jsxs)("div",{className:"w-100 h-100 d-flex justify-content-start pr-5",children:[Object(n.jsx)("img",{src:"logo.png",width:"35",height:"35",alt:"Logo"}),Object(n.jsxs)("h5",{className:"pl-3 pl-sm-1",children:["Distribuzione vaccinazioni",Object(n.jsx)("br",{})," rispetto alle consegne"]})]})}),Object(n.jsx)(D,{summaryFilter:de,summary:Object(l.a)({},m),selected:Y,handleCountryClick:function(e){var t,a=m.deliverySummary[e];if(f(Object(l.a)({},a)),ee(null),je(null),U(a),e||0===e){var n=m.dataSomeVaxDetail.filter((function(e){var t,n;return(null===e||void 0===e||null===(t=e.area)||void 0===t?void 0:t.trim())===(null===(n=a.area)||void 0===n?void 0:n.trim())}));z(w(n)),N((t=w(n),{gen_m:C(S(t,"sesso_maschile")),gen_f:C(S(t,"sesso_femminile"))}))}else z(m.categoriesAndAges),N(m.gender)},className:"ml-5 w-100 h-100"}),Object(n.jsx)("div",{className:"p-4 position-relative",children:Object(n.jsxs)("div",{className:"text-black w-100",children:[Object(n.jsxs)("div",{className:"w-100 h-100 d-flex justify-content-start ",children:[Object(n.jsx)("img",{src:"logo.png",width:"45",height:"45",alt:"Logo",className:"mt-3"}),Object(n.jsx)("span",{className:"font-50 pl-3",children:x.sum([null===y||void 0===y?void 0:y.gen_m,null===y||void 0===y?void 0:y.gen_f])?x.sum([null===y||void 0===y?void 0:y.gen_m,null===y||void 0===y?void 0:y.gen_f]).toLocaleString("it"):0})]}),Object(n.jsx)("div",{className:"w-100  h-100 d-flex justify-content-start",children:Object(n.jsx)("h5",{children:"Totale vaccinazioni"})})]})})]})]}),Object(n.jsxs)("div",{className:"row position-powerbi",style:{backgroundColor:"#F8FBFE"},children:[Object(n.jsx)("div",{className:"col-12 col-md-6 d-flex align-items-end testo-info-campania",children:"Il dato della Campania evidenzia la prevista somministrazione della sesta dose, il che potr\xe0 avvenire anche nelle altre regioni."}),Object(n.jsxs)("div",{className:"col-12 col-md-6  position-relative",children:[Object(n.jsx)("div",{className:"bg-gradient-bar"}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-6 d-flex align-items-baseline",children:[Object(n.jsx)("img",{src:"user_f.png",alt:"users",width:"75px"}),Object(n.jsx)("span",{className:"text-center font-weight-light text-white",children:Object(n.jsx)("h3",{className:"total_gender",children:null===y||void 0===y||null===(e=y.gen_f)||void 0===e?void 0:e.toLocaleString("it")})})]}),Object(n.jsxs)("div",{className:"col-6  d-flex align-items-baseline",children:[Object(n.jsx)("img",{src:"user_m.png",alt:"users",width:"75px"}),Object(n.jsx)("span",{className:"text-center font-weight-light text-white",children:Object(n.jsx)("h3",{className:"total_gender",children:null===y||void 0===y||null===(t=y.gen_m)||void 0===t?void 0:t.toLocaleString("it")})})]})]})]}),Object(n.jsx)("div",{className:"col-12 col-md-5",style:{backgroundColor:"#17324D"},children:Object(n.jsxs)("div",{className:"p-4 position-relative",children:[Object(n.jsx)("div",{style:{height:100},children:Object(n.jsx)("img",{src:"group_person.svg",alt:"Logo",className:"img-fluid"})}),Object(n.jsxs)("div",{className:"text-white w-100",children:[Object(n.jsx)("div",{className:"w-100 h-100 d-flex justify-content-end",children:Object(n.jsx)("img",{src:"logo.png",width:"40",height:"40",alt:"Logo"})}),Object(n.jsx)("div",{className:"w-100  h-100 d-flex justify-content-end text-right",children:Object(n.jsxs)("h3",{children:["Vaccinazioni",Object(n.jsx)("br",{})," per fasce di et\xe0"]})})]})]})}),Object(n.jsx)("div",{className:"col-12  col-md-7",style:{backgroundColor:"#17324D"},children:Object(n.jsx)(re,{title:"",xtitle:"Fascia d'et\xe0",ytitle:"",width:"800",handleRectClick:function(e){},height:"300",selected:X,property:{xprop:"fascia_anagrafica",yprop:"totale"},data:Object(o.a)(L)})})]}),Object(n.jsxs)("div",{className:"row ",children:[Object(n.jsxs)("div",{className:"col-12  d-flex justify-content-center align-items-center p-5",style:{backgroundColor:"#F4F9FD"},children:[Object(n.jsx)("img",{src:"logo.png",width:"86",height:"86",alt:"Logo",className:"img-fluid",style:{zIndex:10}}),Object(n.jsx)("h3",{className:"text-center",children:"Vaccinazioni per categoria"})]}),Object(n.jsxs)("div",{className:"col-12 col-md-12 h-100  ",children:[Object(n.jsx)("div",{className:"mb-5  d-lg-none ",style:{position:"relative",background:"#013366"},children:Object(n.jsxs)("div",{className:"text-white w-100",children:[Object(n.jsx)("div",{className:"w-100  h-100 d-flex justify-content-start pt-5 pl-4",children:Object(n.jsxs)("h5",{children:["Totale",Object(n.jsx)("br",{}),"vaccinazioni"]})}),Object(n.jsx)("div",{className:"w-100  h-100 d-flex justify-content-start pl-4",children:Object(n.jsx)("p",{className:"numeri_box",children:he||$?null===ye||void 0===ye?void 0:ye.toLocaleString("it"):null===(a=m.tot)||void 0===a?void 0:a.toLocaleString("it")})}),Object(n.jsx)("div",{className:"col-12 d-flex justify-content-end  pb-2",children:Object(n.jsx)("img",{alt:"reset-plot2",src:"reset_white.png",onClick:Be,height:35})})]})}),Object(n.jsx)("div",{className:"col-3 col-md-3 h-100 d-none d-lg-block",children:Object(n.jsx)("div",{style:{position:"relative",background:"#17324D",top:-90,left:105},children:Object(n.jsxs)("div",{className:"text-white w-100",children:[Object(n.jsx)("div",{className:"w-100  h-100 d-flex justify-content-start pt-3 pl-4",children:Object(n.jsxs)("h5",{children:["Totale",Object(n.jsx)("br",{}),"vaccinazioni"]})}),Object(n.jsx)("div",{className:"w-100  h-100 d-flex justify-content-start pl-4",children:Object(n.jsx)("p",{className:"numeri_box",children:he||$?null===ye||void 0===ye?void 0:ye.toLocaleString("it"):null===(i=m.tot)||void 0===i?void 0:i.toLocaleString("it")})}),Object(n.jsx)("div",{className:"col-12 d-flex justify-content-end  pb-2",children:Object(n.jsx)("img",{alt:"Reset",src:"reset_white.png",onClick:Be,height:35})})]})})})]}),Object(n.jsx)("div",{className:"col-12 col-md-6 h-100",children:Object(n.jsx)(se,{title:"",xtitle:"Vaccinazioni per categoria",handleRectClick:function(e){pe(e?null===e||void 0===e?void 0:e.code:null)},ytitle:"",width:"220",height:"260",property:{xprop:"name",yprop:"total"},data:(null===ne||void 0===ne?void 0:ne.slice())||[],selectedCodeCategory:he})}),Object(n.jsxs)("div",{className:"col-12 col-md-6 h-100",children:[Object(n.jsx)("div",{className:"p-4 position-relative d-lg-none",children:Object(n.jsxs)("div",{className:"w-100 h-100 d-flex justify-content-start pr-5",children:[Object(n.jsx)("img",{src:"logo.png",width:"35",height:"35",alt:"Logo"}),Object(n.jsxs)("h5",{className:"pl-3 pl-sm-1",children:["Vaccinazioni",Object(n.jsx)("br",{})," per regione"]})]})}),Object(n.jsx)("div",{className:"p-4 position-relative d-none d-lg-block",style:{left:"300px",top:"190px"},children:Object(n.jsxs)("div",{className:"w-100 h-100 d-flex justify-content-start pr-5",children:[Object(n.jsx)("img",{src:"logo.png",width:"35",height:"35",alt:"Logo"}),Object(n.jsxs)("h5",{className:"pl-3 pl-sm-1",children:["Vaccinazioni",Object(n.jsx)("br",{})," per regione"]})]})}),Object(n.jsx)(V,{summary:Object(l.a)({},m),selected:$,handleCountryClick:function(e){var t;pe(null);var a=null===(t=m.deliverySummary[e])||void 0===t?void 0:t.area,n=A[a],c=m.categoriesByRegions[n],i=m.deliverySummary[e];q(i),Ne(e?i.dosi_somministrate:m.tot),ce(e?(null===c||void 0===c?void 0:c.slice())||[]:m.categories)},maxByCategory:Ce,selectedCodeCategory:he,setCategoryRegionSelect:fe,categoryRegionSelect:xe,className:"w-100 h-100"})]})]}),Object(n.jsxs)("div",{className:"row ",children:[Object(n.jsxs)("div",{className:"col-12 d-flex justify-content-center align-items-center p-5",style:{backgroundColor:"#F4F9FD"},children:[Object(n.jsx)("img",{src:"logo.png",width:"86",height:"86",alt:"Logo",className:"img-fluid",style:{zIndex:10}}),Object(n.jsx)("h3",{className:"text-center",children:"Punti di somministrazione per regione"})]}),Object(n.jsxs)("div",{className:"col-12 col-md-12 h-100 p-0",children:[Object(n.jsx)("div",{className:"mb-5  d-lg-none ",style:{position:"relative",background:"#013366"},children:Object(n.jsxs)("div",{className:"text-white w-100",children:[Object(n.jsx)("div",{className:"w-100  h-100 d-flex justify-content-start pt-5 pl-4",children:Object(n.jsx)("h5",{children:"Punti di somministrazione per regione"})}),Object(n.jsx)("div",{className:"w-100  h-100 d-flex justify-content-start pl-4",children:Object(n.jsx)("p",{className:"numeri_box",children:ze})}),Object(n.jsx)("div",{className:"col-12 d-flex justify-content-end  pb-2",children:Object(n.jsx)("img",{alt:"reset-plot",src:"reset_white.png",onClick:Be,height:35})})]})}),Object(n.jsx)("div",{className:"col-3 col-md-3 h-100 d-none d-lg-block",children:Object(n.jsx)("div",{style:{position:"relative",background:"#17324D",top:-90,left:40},children:Object(n.jsxs)("div",{className:"text-white w-100",children:[Object(n.jsx)("div",{className:"w-100  h-100 d-flex justify-content-start pt-5 pl-4",children:Object(n.jsxs)("h5",{children:["Totale punti di",Object(n.jsx)("br",{}),"somministrazione"]})}),Object(n.jsx)("div",{className:"w-100  h-100 d-flex justify-content-start pl-4",children:Object(n.jsx)("p",{className:"numeri_box",children:ze})}),Object(n.jsx)("div",{className:"col-12 d-flex justify-content-end  pb-2",children:Object(n.jsx)("img",{alt:"reset-white",src:"reset_white.png",onClick:Be,height:35})})]})})})]}),Object(n.jsxs)("div",{className:"col-12 col-md-6 pt-5",children:[Object(n.jsx)("div",{className:"p-4 position-relative d-lg-none",children:Object(n.jsxs)("div",{className:"w-100 h-100 d-flex justify-content-start pr-5",children:[Object(n.jsx)("img",{src:"logo.png",width:"35",height:"35",alt:"Logo"}),Object(n.jsxs)("h5",{className:"pl-3 pl-sm-1",children:["Punti di",Object(n.jsx)("br",{})," somministrazione ",Object(n.jsx)("br",{})," per regione"]})]})}),Object(n.jsx)("div",{className:"p-4 position-relative d-none d-lg-block",style:{left:"300px",top:"190px"},children:Object(n.jsxs)("div",{className:"w-100 h-100 d-flex justify-content-start pr-5",children:[Object(n.jsx)("img",{src:"logo.png",width:"35",height:"35",alt:"Logo"}),Object(n.jsxs)("h5",{className:"pl-3 pl-sm-1",children:["Punti di",Object(n.jsx)("br",{})," somministrazione ",Object(n.jsx)("br",{})," per regione"]})]})}),Object(n.jsx)(E,{summary:Object(l.a)({},m),handleCountryClick:function(e){P(e)},className:"w-100 h-100",setLocationRegionSelect:Ve,locationRegionSelect:De})]}),Object(n.jsx)("div",{className:"col-12 col-md-6 pt-3 pl-3",children:Object(n.jsx)(G,{summary:Object(l.a)({},m),selected:M,className:"mr-5 h-100",setLocationTableRef:Fe})})]}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-12 text-center pt-5 pb-3",children:["I dati visualizzati sono disponibili all'indirizzo"," ",Object(n.jsx)("a",{href:"https://github.com/italia/covid19-opendata-vaccini",children:"https://github.com/italia/covid19-opendata-vaccini"})]})})]}),Object(n.jsx)(u,{})]})},le=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,101)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),i(e),r(e)}))};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(oe,{})}),document.getElementById("root")),le()},16:function(e,t,a){},24:function(e,t,a){},95:function(e,t,a){},99:function(e,t,a){}},[[100,1,2]]]);
//# sourceMappingURL=main.b462032f.chunk.js.map